{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?f0a8","webpack:///./src/assets/images/xing-tian.png","webpack:///./src/App.vue?211d","webpack:///./src/assets/images/hou.png","webpack:///./src/assets/images/gyarados.png","webpack:///./src/assets/audio/bgm.mp3","webpack:///./src/components/DiaLogue/index.vue?ee0a","webpack:///./src/assets/images/qiong-qi.png","webpack:///./src/assets/images/whale.png","webpack:///./src/assets/images/gu-diao.png","webpack:///./src/App.vue","webpack:///./src/components/DiaLogue/index.vue","webpack:///./src/components/DiaLogue/index.vue?73a5","webpack:///./src/pixi/utils.ts","webpack:///./src/pixi/reactivity.ts","webpack:///./src/pixi/constant/index.ts","webpack:///./src/pixi/lib/fish.ts","webpack:///./src/pixi/lib/keyboardMove.ts","webpack:///./src/pixi/lib/playerCharacter.ts","webpack:///./src/pixi/pc/createWhale.ts","webpack:///./src/pixi/pc/operationMove.ts","webpack:///./src/pixi/lib/container.ts","webpack:///./src/pixi/lib/NPCFish.ts","webpack:///./src/pixi/npc/infos.ts","webpack:///./src/pixi/npc/type.ts","webpack:///./src/pixi/npc/fish.ts","webpack:///./src/pixi/lib/task.ts","webpack:///./src/pixi/lib/wait.ts","webpack:///./src/pixi/lib/factoryFishTask.ts","webpack:///./src/pixi/lib/taskList.ts","webpack:///./src/pixi/task/index.ts","webpack:///./src/pixi/lib/gameCycle.ts","webpack:///./src/pixi/index.ts","webpack:///./src/pixi/lib/game.ts","webpack:///./src/pixi/npc/loader.ts","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts","webpack:///./src/assets/images/ran-yi-yu.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","ref","id","src","type","loop","autoplay","gameTime","gameValue","isPlay","bmgPause","bmgPlay","isIdle","isPause","isPlayed","endText","handleStart","handleContinue","messageObject","text","leftImg","rightImg","handleNext","handleClick","alt","props","String","setup","emit","render","__scopeId","getDocumentHeight","document","documentElement","clientHeight","getDocumentWidth","clientWidth","getTexture","img","resources","shared","texture","Promise","resolve","add","load","hitTestRectangle","r1","r2","obj1","centerX","centerY","halfWidth","halfHeight","obj2","x","width","y","height","vx","vy","combinedHalfWidths","combinedHalfHeights","Math","abs","HEALTH_VALUE","FACTORY_NPC_ITEM","NPC_TYPE_TASK_ITEM","app","sprite","healthValue","delicious","_healthValue","this","size","fish","isInit","isSuccess","startGameTime","pauseGameTime","setTimeout","clearTimeout","gamePlayerNumber","store","state","signShow","signValue","setMessageObject","obj","setSignShow","setSignValue","v0","v1","v","direction","_direction","timeNow","keyboardMoveCombination","_recovery","forEach","item","cease","recovery","events","keys","map","quicken","down","up","addEventListener","Date","now","min","removeEventListener","removeEvent","keydown","keyup","time","handleKeydown","event","step","handleKeyup","addEvent","requestAnimationFrame","cancelAnimationFrame","keyboardMove","whale","createWhale","bindEvent","whaleSprite","getArrowOperation","ArrowUp","ArrowRight","maxX","renderer","ArrowDown","maxY","ArrowLeft","getEnglishOperation","w","a","game","materialList","pcList","handleTick","forTesting","Organization","npcMax","Number","pc","index","findIndex","remove","isFull","material","materials","stage","addChild","getSprite","removeChild","destruction","ticker","hit","out","collision","eat","removePC","gameOver","removeMaterial","pause","start","gameCycle","reject","Direction","speed","move","random","infos","introduce","textureName","shanhaichingNPCInfo","info","bossInfo","createNpc","createFish","organization","npc","createType","positionOut","addMaterial","floor","_resolve","_reject","waitTime","ing","_time","wait","getMillisecond","toFixed","nextThen","createTaskPromise","then","b","tasks","taskList","task","taskPackage","catch","finally","currentTask","next","createTaskList","clean","regression","handleIng","handlePause","closeTickHitTestRectangle","openTickHitTestRectangle","empty","whales","addPC","idleWatch","pauseWatch","startAntPause","code","createWhales","seat","removeWatchEvent","end","continue","removeWindowEvent","getGame","bindWindowEvent","bindWatchEvent","loaderImg","imgs","url","components","DiaLogue","bgm","pixiContainer","play","init","appendChild","view","App","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,2ECvJT,W,qBCAAW,EAAOD,QAAU,IAA0B,8B,oCCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,wB,uBCA3CC,EAAOD,QAAU,IAA0B,6B,uBCA3CC,EAAOD,QAAU,IAA0B,0B,6DCA3C,W,uBCAAC,EAAOD,QAAU,IAA0B,6B,gDCA3CC,EAAOD,QAAU,IAA0B,0B,uBCA3CC,EAAOD,QAAU,IAA0B,4B,0NCCpC+B,MAAM,a,GACJC,IAAI,gBAAgBC,GAAG,Q,GACvBF,MAAM,iB,GACJA,MAAM,e,GACJA,MAAM,a,GACNA,MAAM,c,GAENC,IAAI,O,EACT,eAAuE,UAA/DE,IAAA,IAA6BC,KAAK,aAAaC,KAAA,GAAKC,SAAA,I,WAI9D,eAAsC,KAAnCN,MAAM,0BAAwB,S,SAELA,MAAM,c,SACfA,MAAM,Y,yGAf7B,eA4BM,MA5BN,EA4BM,CA3BJ,eAAyC,MAAzC,EAAyC,UACzC,eAWM,MAXN,EAWM,CAVJ,eAGM,MAHN,EAGM,CAFJ,eAA2C,MAA3C,EAA2C,eAAjB,EAAAO,UAAQ,GAClC,eAAgD,MAAhD,EAAwB,MAAG,eAAG,EAAAC,WAAS,KAEzC,eAEQ,QAFR,EAEQ,CADN,G,KAEO,EAAAC,Q,iBAAT,eAAyE,K,MAAvD,QAAK,8BAAE,EAAAC,UAAA,EAAAA,SAAA,qBAAUV,MAAM,gC,iBACzC,eAAiE,K,MAAtD,QAAK,8BAAE,EAAAW,SAAA,EAAAA,QAAA,qBAASX,MAAM,+BACjC,IAES,EAAAY,QAAU,EAAAC,S,iBAArB,eAMM,MANN,EAMM,CALK,EAAAC,U,iBAAT,eAAqD,IAArD,EAAqD,eAAd,EAAAC,SAAO,I,sBACnC,EAAAH,Q,iBAAX,eAAmE,O,MAA/C,QAAK,8BAAE,EAAAI,aAAA,EAAAA,YAAA,qBAAahB,MAAM,aAAY,QAC1C,EAAAa,S,iBAAhB,eAEM,O,MAFoB,QAAK,8BAAE,EAAAI,gBAAA,EAAAA,eAAA,qBAAgBjB,MAAM,aAAY,S,+CAK7D,EAAAkB,cAAcC,M,iBADtB,eAMY,G,MAJTA,KAAM,EAAAD,cAAcC,KACpBC,QAAS,EAAAF,cAAcE,QACvBC,SAAU,EAAAH,cAAcG,SACxB,QAAO,EAAAC,Y,iLCzBLtB,MAAM,gB,GACJA,MAAM,W,wEAFf,eAQM,OARDA,MAAM,WAAY,QAAK,8BAAE,EAAAuB,aAAA,EAAAA,YAAA,sB,CAC5B,eAMM,MANN,EAMM,CALJ,eAEM,MAFN,EAEM,CADJ,eAAiB,wBAAX,EAAAJ,MAAI,KAED,EAAAC,S,iBAAX,eAA8D,O,MAA1CpB,MAAM,WAAYG,IAAK,EAAAiB,QAASI,IAAI,K,uCAC7C,EAAAH,U,iBAAX,eAAiE,O,MAA5CrB,MAAM,YAAaG,IAAK,EAAAkB,SAAUG,IAAI,K,8CAMlD,GACbjD,KAAM,WACNkD,MAAO,CACLL,QAASM,OACTL,SAAUK,OACVP,KAAMO,QAERC,MAPa,SAOPF,EAPO,GAOU,IAARG,EAAQ,EAARA,KACb,SAASL,IACPK,EAAK,SAEP,MAAO,CACLL,iB,UCpBN,EAAOM,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,sECPFC,G,UAAoB,kBAC/BC,SAASC,gBAAgBC,eACdC,EAAmB,kBAC9BH,SAASC,gBAAgBG,aAYrB,SAAUC,EACd/C,EACAgD,GAAW,MAELC,EAAY,OAAOC,OAAOD,UAChC,OAAI,UAACA,EAAUjD,UAAX,OAAC,EAAgBmD,QAKdF,EAAUjD,GAAKmD,QAJb,IAAIC,SAAQ,SAAUC,GAC3B,OAAOH,OAAOI,IAAItD,EAAKgD,GAAKO,KAAKF,MAKjC,SAAUG,EAAiBC,EAAYC,GAC3C,IAAMC,EAAO,CACXC,QAAS,EACTC,QAAS,EACTC,UAAW,EACXC,WAAY,GAERC,EAAO,CACXJ,QAAS,EACTC,QAAS,EACTC,UAAW,EACXC,WAAY,GAGdJ,EAAKC,QAAUH,EAAGQ,EAAIR,EAAGS,MAAQ,EACjCP,EAAKE,QAAUJ,EAAGU,EAAIV,EAAGW,OAAS,EAClCJ,EAAKJ,QAAUF,EAAGO,EAAIP,EAAGQ,MAAQ,EACjCF,EAAKH,QAAUH,EAAGS,EAAIT,EAAGU,OAAS,EAGlCT,EAAKG,UAAYL,EAAGS,MAAQ,EAC5BP,EAAKI,WAAaN,EAAGW,OAAS,EAC9BJ,EAAKF,UAAYJ,EAAGQ,MAAQ,EAC5BF,EAAKD,WAAaL,EAAGU,OAAS,EAG9B,IAAMC,EAAKV,EAAKC,QAAUI,EAAKJ,QACzBU,EAAKX,EAAKE,QAAUG,EAAKH,QAGzBU,EAAqBZ,EAAKG,UAAYE,EAAKF,UAC3CU,EAAsBb,EAAKI,WAAaC,EAAKD,WAEnD,OAAOU,KAAKC,IAAIL,GAAME,GAAsBE,KAAKC,IAAIJ,GAAME,E,IC9CzD,E,wBCfSG,EAAe,GACfC,EAAmB,KACnBC,EAAqB,GCArB,EAAb,WASE,WACEC,EACAC,GAEa,IADbC,EACa,uDADCL,EACdM,EAAa,uDAAD,EAAC,uBALP,KAAAC,aAAe,EAOrBC,KAAKL,IAAMA,EACXK,KAAKJ,OAASA,EAEdI,KAAKC,KAAO,CACVlB,MAAOa,EAAOb,MACdE,OAAQW,EAAOX,QAEjBe,KAAKH,YAAcA,EACnBG,KAAKF,UAAYA,EAvBrB,gDAyBE,WACE,OAAOE,KAAKD,cA1BhB,IA4BE,SAAgBxF,GACdyF,KAAKD,aAAexF,EACpByF,KAAKJ,OAAOb,MAAQxE,EACpByF,KAAKJ,OAAOX,OAAUe,KAAKC,KAAKhB,OAASe,KAAKH,YAAeG,KAAKC,KAAKlB,QA/B3E,uBAiCE,WACE,OAAOiB,KAAKJ,SAlChB,uBAoCE,SAAUM,GACR,OAAOF,KAAKH,YAAcK,EAAKL,cArCnC,iBAuCE,SAAIC,GAEF,OADAE,KAAKH,aAAeC,EACbE,OAzCX,mBA2CE,WACE,OAAOA,OA5CX,mBA8CE,WACE,OAAOA,OA/CX,yBAiDE,WACE,OAAOA,SAlDX,K,kCFCa7D,EAAS,gBAAI,GAEbgE,EAAS,gBAAI,GAEbC,EAAY,gBAAI,GAEhBhE,EAAU,gBAAI,GACdC,EAEX,gBAAS,kBAAO8D,EAAO5F,OAAS4B,EAAO5B,SAE5BuB,EAAW,eAAI,GAEtB,SAAUuE,IACdC,IACA,EAAOC,YAAW,WAChBzE,EAASvB,OAAS,EAClB8F,MACC,KAEC,SAAUC,IACdE,aAAa,GAGR,IAAMzE,EAAY,eAAI,GAEhB0E,EAAmB,eAAI,GAG9BhE,GADgB,gBAAI,GACJ,CACpBC,KAAM,GACNC,QAAS,GACTC,SAAU,KAEC8D,EAAQ,CACnBC,MAAO,eAAS,CAEdlE,cAAeA,EAEfmE,UAAU,EACVC,UAAW,KAEbC,iBARmB,SAQFC,GACff,KAAKW,MAAMlE,cAAX,iCAAgCA,GAAkBsE,IAEpDC,YAXmB,WAWM,IAAbzG,EAAa,wDACvByF,KAAKW,MAAMC,SAAWrG,GAExB0G,aAdmB,WAcI,IAAV1G,EAAU,uDAAF,GACnByF,KAAKW,MAAME,UAAYtG,IG5Cd,GAAb,WAWE,WAAYoF,EAAkBC,EAAgBsB,EAAYC,GAAU,kCAR5D,KAAAC,EAAI,EAGZ,KAAAC,UAA6B,GACrB,KAAAC,WAA8B,GAC9B,KAAAC,QAAU,EAElB,KAAAC,wBAA+C,GAE7CxB,KAAKL,IAAMA,EACXK,KAAKJ,OAASA,EACdI,KAAKkB,GAAKA,EACVlB,KAAKmB,GAAKA,EACVnB,KAAKyB,UAAY,WACf,EAAKD,wBAAwBE,SAAQ,SAAAC,GAAI,OAAIA,EAAKC,WAClD,EAAKC,YAEP7B,KAAK6B,WApBT,2CAsBE,SAAKC,GAA6B,WAChC9B,KAAKwB,wBAA0BrJ,OAAO4J,KAAKD,GAAQE,KAAI,SAAAnH,GACrD,OAAO,IAAI,GACTA,GACA,WACMuB,EAAQ7B,QACZ,EAAK8G,UAAYxG,EACjB,EAAKoH,UACLH,EAAOjH,GAAKqH,KAAK,EAAKd,OAExB,WAAK,QACH,EAAKS,WACL,UAAAC,EAAOjH,UAAP,mBAAasH,UAAb,uBAIN/G,OAAOgH,iBAAiB,OAAQpC,KAAKyB,aAtCzC,qBAwCE,WACMzB,KAAKqB,YAAcrB,KAAKsB,aAC1BtB,KAAKuB,QAAUc,KAAKC,MAAQ,IAC5BtC,KAAKsB,WAAatB,KAAKqB,WAErBrB,KAAKuB,SACHc,KAAKC,OAAStC,KAAKuB,UACrBvB,KAAKoB,EAAI9B,KAAKiD,IAAIvC,KAAKoB,EAAI,EAAGpB,KAAKmB,IACnCnB,KAAKuB,QAAUc,KAAKC,MAAQ,OAhDpC,sBAoDE,WACEtC,KAAKuB,QAAU,EACfvB,KAAKoB,EAAIpB,KAAKkB,GACdlB,KAAKqB,UAAY,GACjBrB,KAAKsB,WAAa,KAxDtB,yBA0DE,WACElG,OAAOoH,oBAAoB,OAAQxC,KAAKyB,WACxCzB,KAAKwB,wBAAwBE,SAAQ,SAAAC,GAAI,OAAIA,EAAKc,qBA5DtD,KA+Da,GAAb,WAME,WACElI,EACAmI,EACAC,GAAsC,kCANhC,KAAAC,KAAO,EAQb5C,KAAK0C,QAAUA,EACf1C,KAAK2C,MAAQA,EACb3C,KAAK4C,KACL5C,KAAK6C,cAAgB,SAACC,GACf,EAAKF,MAAQE,EAAMjI,MAAQN,GAC9B,EAAKwI,QAGT/C,KAAKgD,YAAc,SAACF,GACO,MAArBA,EAAMjI,MAAQN,IAChB,YAAKoI,aAAL,gBAAaG,GACb,EAAKlB,UAGT5B,KAAKiD,WAzBT,2CA2BE,WAAI,WACFjD,KAAK4C,KAAOM,uBAAsB,WAChC,EAAKR,UACL,EAAKK,YA9BX,mBAiCE,WACEI,qBAAqBnD,KAAK4C,MAC1B5C,KAAK4C,KAAO,IAnChB,sBAqCE,WACE5C,KAAK6C,eACHzH,OAAOgH,iBAAiB,UAAWpC,KAAK6C,eAAe,GACzD7C,KAAKgD,aACH5H,OAAOgH,iBAAiB,QAASpC,KAAKgD,aAAa,KAzCzD,yBA2CE,WACEhD,KAAK6C,eACHzH,OAAOoH,oBAAoB,UAAWxC,KAAK6C,eAC7C7C,KAAKgD,aAAe5H,OAAOoH,oBAAoB,QAASxC,KAAKgD,iBA9CjE,KCpEa,GAAb,wDAEE,WACErD,EACAC,GAIkB,MAHlBsB,EAGkB,uDAHb,EACLC,EAEkB,uDAFb,EACLtB,EACkB,uCAAlBC,EAAkB,qEAElB,cAAMH,EAAKC,EAAQC,EAAaC,GAChC,EAAKsD,aAAe,IAAI,GAAgB,EAAKzD,IAAK,EAAKC,OAAQsB,EAAIC,GAHjD,EARtB,2CAaE,SAAKW,GAEH,OADA9B,KAAKoD,aAAatI,KAAKgH,GAChB9B,SAfX,GAAqC,GCI/B,SAAU,GAAWqD,GACzBA,EAAMxD,YAAcL,EAEhB,SAAU8D,GACd3D,EACA4D,GAEA,IAAMC,EAAc,IAAI,OACtB,OAAYzF,OAAOD,UAAUuF,MAAMrF,SAE/BqF,EAAQ,IAAI,GAAgB1D,EAAK6D,EAAa,EAAG,GAIvD,MAHyB,oBAAdD,GACTF,EAAMvI,KAAKyI,EAAU5D,EAAK6D,IAErBH,ECfF,IAAMI,GAAuC,SAAC9D,EAAKC,GACxD,MAAO,CACL8D,QAAS,CACPxB,KAAM,SAACd,GACDxB,EAAOZ,EAAI,EACbY,EAAOZ,GAAKoC,EAEZxB,EAAOZ,EAAI,IAIjB2E,WAAY,CACVzB,KAAM,SAACd,GACL,IAAMwC,EAAOjE,EAAIkE,SAAS9E,MAAQa,EAAOb,MACrC6E,EAAOhE,EAAOd,EAChBc,EAAOd,GAAKsC,EAEZxB,EAAOd,EAAI8E,IAIjBE,UAAW,CACT5B,KAAM,SAACd,GACL,IAAM2C,EAAOpE,EAAIkE,SAAS5E,OAASW,EAAOX,OACtC8E,EAAOnE,EAAOZ,EAChBY,EAAOZ,GAAKoC,EAEZxB,EAAOZ,EAAI+E,IAIjBC,UAAW,CACT9B,KAAM,SAACd,GACDxB,EAAOd,EAAI,EACbc,EAAOd,GAAKsC,EAEZxB,EAAOd,GAAK,MAMTmF,GAAyC,SAACtE,EAAKC,GAC1D,MAAO,CACLsE,EAAG,CACDhC,KAAM,SAACd,GACDxB,EAAOZ,EAAI,EACbY,EAAOZ,GAAKoC,EAEZxB,EAAOZ,EAAI,IAIjBnF,EAAG,CACDqI,KAAM,SAACd,GACL,IAAMwC,EAAOjE,EAAIkE,SAAS9E,MAAQa,EAAOb,MACrC6E,EAAOhE,EAAOd,EAChBc,EAAOd,GAAKsC,EAEZxB,EAAOd,EAAI8E,IAIjBtK,EAAG,CACD4I,KAAM,SAACd,GACL,IAAM2C,EAAOpE,EAAIkE,SAAS5E,OAASW,EAAOX,OACtC8E,EAAOnE,EAAOZ,EAChBY,EAAOZ,GAAKoC,EAEZxB,EAAOZ,EAAI+E,IAIjBI,EAAG,CACDjC,KAAM,SAACd,GACDxB,EAAOd,EAAI,EACbc,EAAOd,GAAKsC,EAEZxB,EAAOd,GAAK,MC7ET,I,oBAAb,WAME,WAAYsF,GAAU,kCACpBpE,KAAKoE,KAAOA,EACZpE,KAAKqE,aAAe,GACpBrE,KAAKsE,OAAS,GACdtE,KAAKuE,WAAa,WAChB,EAAKC,cAXX,wCAcE,WACE,OAAOxE,KAAKoE,KAAKzE,MAfrB,iBAiBE,WACE,OAAOK,KAAKL,IAAIkE,SAAS9E,QAlB7B,kBAoBE,WACE,OAAOiB,KAAKL,IAAIkE,SAAS5E,SArB7B,kBAuBE,WACE,OAAOe,KAAKqE,aAAanM,OAAS8H,KAAKsE,OAAOpM,SAxBlD,kBA0BE,WACE,OAAOuM,EAAaC,QAAU1E,KAAK2E,SA3BvC,mBA6BE,WAAmC,oCAA1BC,EAA0B,yBAA1BA,EAA0B,gBAGjC,OAFA,EAAA5E,KAAKsE,QAAO9L,KAAZ,QAAoBoM,GACpBA,EAAGlD,SAAQ,SAAAC,GAAI,OAAI,EAAKxD,IAAIwD,MACrB3B,OAhCX,sBAkCE,SAAS4E,GACP,IAAMC,EAAQ7E,KAAKsE,OAAOQ,WAAU,SAAAnD,GAAI,OAAIiD,IAAOjD,KAKnD,OAJe,IAAXkD,IACF7E,KAAKsE,OAAOlL,OAAOyL,EAAO,GAC1B7E,KAAK+E,OAAOH,IAEP5E,OAxCX,yBA0CE,WAAuC,aACrC,GAAIA,KAAKgF,OAAQ,OAAOhF,KADa,2BAAxBiF,EAAwB,yBAAxBA,EAAwB,gBAErC,IAAMC,EAAYD,EAAS3J,MAAM,EAAGmJ,EAAaC,OAAS1E,KAAK2E,QAG/D,OAFA,EAAA3E,KAAKqE,cAAa7L,KAAlB,uBAA0B0M,IAC1BA,EAAUxD,SAAQ,SAAAC,GAAI,OAAI,EAAKxD,IAAIwD,MAC5B3B,OA/CX,4BAiDE,SAAeiF,GACb,IAAMJ,EAAQ7E,KAAKqE,aAAaS,WAAU,SAAAnD,GAAI,OAAIsD,IAAatD,KAK/D,OAJe,IAAXkD,IACF7E,KAAKqE,aAAajL,OAAOyL,EAAO,GAChC7E,KAAK+E,OAAOE,IAEPjF,OAvDX,iBAyDE,SAAIiF,GAEF,OADAjF,KAAKL,IAAIwF,MAAMC,SAASH,EAASI,aAC1BrF,OA3DX,oBA6DE,SAAOiF,GAGL,OAFAjF,KAAKL,IAAIwF,MAAMG,YAAYL,EAASI,aACpCJ,EAASM,cACFvF,OAhEX,mBAkEE,WAAK,WAKH,OAJAA,KAAKqE,aAAa3C,SAAQ,SAAAC,GAAI,OAAI,EAAKoD,OAAOpD,MAC9C3B,KAAKqE,aAAanM,OAAS,EAC3B8H,KAAKsE,OAAO5C,SAAQ,SAAAC,GAAI,OAAI,EAAKoD,OAAOpD,MACxC3B,KAAKsE,OAAOpM,OAAS,EACd8H,OAvEX,sCAyEE,WAEE,OADAA,KAAKL,IAAI6F,OAAOrH,IAAI6B,KAAKuE,YAClBvE,OA3EX,uCA6EE,WAEE,OADAA,KAAKL,IAAI6F,OAAOT,OAAO/E,KAAKuE,YACrBvE,OA/EX,wBAiFE,WAEE,IADA,IAAIiF,EAAUL,EACL5M,EAAI,EAAGA,EAAIgI,KAAKsE,OAAOpM,OAAQF,IAAK,CAC3C4M,EAAK5E,KAAKsE,OAAOtM,GACjB,IAAK,IAAIkB,EAAI,EAAGA,EAAI8G,KAAKqE,aAAanM,OAAQgB,IAAK,CAEjD,GADA+L,EAAWjF,KAAKqE,aAAanL,GACzB8G,KAAKyF,IAAIR,EAAUL,GAAK,OAC5B5E,KAAK0F,IAAIT,OAxFjB,iBA6FE,SAAIA,EAAmBL,GACrB,QAAIvG,EAAiBuG,EAAGS,YAAaJ,EAASI,eAExCJ,EAASU,UAAUf,IACrBK,EAASW,IAAIhB,EAAG9E,WAChBE,KAAK6F,SAASjB,GACd5E,KAAK8F,YAEE,IAEPlB,EAAGgB,IAAIX,EAASnF,WAChBE,KAAK+F,eAAed,GACpBlJ,EAAUxB,OAAS0K,EAASnF,WACrB,MA1Gf,iBAgHE,SAAImF,GASF,OAP0B,MAAvBA,EAAS5D,WACR4D,EAASI,YAAYvG,EAAIkB,KAAKjB,MAAQkG,EAASI,YAAYtG,OACrC,MAAvBkG,EAAS5D,WACR4D,EAASI,YAAYvG,GAAKmG,EAASI,YAAYtG,QAEjDiB,KAAK+F,eAAed,GAEfjF,OAzHX,mBA2HE,WAEE,OADAA,KAAKqE,aAAa3C,SAAQ,SAAAuD,GAAQ,OAAIA,EAASe,WACxChG,OA7HX,mBA+HE,WAEE,OADAA,KAAKqE,aAAa3C,SAAQ,SAAAuD,GAAQ,OAAIA,EAASgB,WACxCjG,OAjIX,sBAmIE,WAIE,OAHKA,KAAKsE,OAAOpM,QACf8H,KAAKoE,KAAK8B,UAAUC,SAEfnG,SAvIX,MACS,GAAA0E,OAAS,G,ICNN0B,G,6CAAZ,SAAYA,GACV,WACA,YAFF,CAAYA,QAAS,KAId,IAAM,GAAb,wDAIE,WACEzG,EACAC,EACAC,GAGS,MAFTwB,EAES,uDAFc+E,GAAU1M,EACjCoG,EACS,uDADG,EACZuG,EAAS,uDAAD,EAAC,8BAET,cAAM1G,EAAKC,EAAQC,EAAaC,GAChC,EAAKuG,MAAQA,EACb,EAAKhF,UAAYA,EACjB,EAAKiF,KAAO,WACV,IAAMD,EAAQ,EAAKA,MACnB,EAAKzG,OAAOd,GAAwB,MAAnB,EAAKuC,UAAoBgF,GAASA,GAP5C,EAVb,kDAoBE,WAOE,OANArG,KAAKJ,OAAOd,EACS,MAAnBkB,KAAKqB,WAAqBrB,KAAKJ,OAAOb,MAAQiB,KAAKL,IAAIkE,SAAS9E,MAClEiB,KAAKJ,OAAOZ,EAAIM,KAAKiD,IACnBvC,KAAKL,IAAIkE,SAAS5E,OAASe,KAAKJ,OAAOX,OACvCK,KAAKiH,SAAWvG,KAAKL,IAAIkE,SAAS5E,QAE7Be,OA3BX,mBA6BE,WAEE,OADAA,KAAKL,IAAI6F,OAAOrH,IAAI6B,KAAKsG,MAClBtG,OA/BX,mBAiCE,WAEE,OADAA,KAAKL,IAAI6F,OAAOT,OAAO/E,KAAKsG,MACrBtG,OAnCX,yBAqCE,WAEE,OADAA,KAAKgG,QACEhG,SAvCX,GAA6B,GCKvBwG,GAAiC,CACrC,CACE1M,KAAM,MACN2M,UACE,8GACFC,YAAa,YACb7I,IAAK,EAAQ,SAEf,CACE/D,KAAM,KACN2M,UACE,0DACFC,YAAa,UACb7I,IAAK,EAAQ,SAEf,CACE/D,KAAM,MACN2M,UACE,uFACFC,YAAa,WACb7I,IAAK,EAAQ,SAEf,CACE/D,KAAM,KACN2M,UACE,0FACFC,YAAa,WACb7I,IAAK,EAAQ,SAEf,CACE/D,KAAM,KACN2M,UACE,oFACFC,YAAa,YACb7I,IAAK,EAAQ,UAGX8I,GAAkDH,GAAMxE,KAC5D,SAAC4E,EAAM/B,GACL,wCACK+B,GADL,IAEE/G,YAAqB,GAARgF,EAAcrF,EAAeA,EAC1CM,UAAmB,GAAR+E,EAAc,QAIhB,MACFgC,GAAgC,CAC3C/M,KAAM,IACN2M,UACE,uFACFC,YAAa,MACb7I,IAAK,EAAQ,QACbgC,YAAa2G,GAAMtO,OAASsH,EAC5BM,UAAW0G,GAAMtO,QC5DL,SAAU4O,GAAUjC,GAChC,GAAIA,GAAS,GAAM3M,OACjB,OAAO,EAEP,IAAM0O,EAAO,GAAM/B,GACnB,wCACK+B,GADL,IAEE5I,QAAS,OAAYD,OAAOD,UAAU8I,EAAKF,aAAa1I,UCLxD,SAAU+I,GACdpH,EACAqH,EACA9I,GAEA,IAAM+I,EAAMH,GAAUI,MACtB,IAAKD,EAEH,OADA/I,KACO,EAET,IAAQF,EAAyBiJ,EAAzBjJ,QAAS6B,EAAgBoH,EAAhBpH,YACXD,EAAS,IAAI,OAAY5B,GACzBkC,EAAO,IAAI,GACfP,EACAC,EACAC,EACAP,KAAKiH,SAAW,GAAMH,GAAUhM,EAAIgM,GAAU1M,GAKhD,OAHAwG,EAAKiH,cACLH,EAAaI,YAAYlH,GACzBA,EAAK+F,SACE,EAEH,SAAUiB,KACd,OAAO5H,KAAK+H,MAAMvL,EAASvB,MAAQmF,GC/B9B,IAAe,GAAtB,oCACY,KAAA4H,SAAqC,aAGrC,KAAAC,QAAsC,cCFrC,GAAb,wDAOE,WAAY5H,GAA6B,MAAXiD,EAAW,uDAAJ,IAAI,8BACvC,eAJM,EAAA4E,SAAW,EAEX,EAAAC,KAAM,EAGZ,EAAK9H,IAAMA,EACX,EAAKiD,KAAOA,EACZ,EAAK8E,MAAQ9E,EACb,EAAK0D,KAAO,WACN,EAAKkB,UAAYnF,KAAKC,QACxB,EAAKpE,UACL,EAAKwJ,MAAQ,EAAK9E,OARiB,EAP3C,wDAmBE,WAAiB,WACf,OAAO,IAAI3E,SAAQ,SAACC,EAASiI,GAC3B,EAAKmB,SAAWpJ,EAChB,EAAKqJ,QAAUpB,EACf,EAAKsB,KAAM,OAvBjB,mBA0BE,WAKE,OAJAzH,KAAKL,IAAI6F,OAAOrH,IAAI6B,KAAKsG,MACrBtG,KAAKyH,MACPzH,KAAKwH,SAAWnF,KAAKC,MAAQtC,KAAK0H,OAE7B1H,OA/BX,mBAiCE,WAKE,OAJAA,KAAKL,IAAI6F,OAAOT,OAAO/E,KAAKsG,MACxBtG,KAAKyH,MACPzH,KAAK0H,MAAQ1H,KAAKwH,SAAWnF,KAAKC,OAE7BtC,OAtCX,qBAwCE,WACEA,KAAKsH,UAAS,GACdtH,KAAKyH,KAAM,IA1Cf,oBA4CE,WACEzH,KAAKuH,UACLvH,KAAKyH,KAAM,IA9Cf,qBAgDE,cAhDF,kBAmDE,WACE,OAAOzH,SApDX,GAA0B,ICKb,GAAb,wDAIE,WAAYL,EAAkBqH,GAA0B,oCACtD,eACA,EAAKrH,IAAMA,EACX,EAAKqH,aAAeA,EACpB,EAAKW,KAAO,IAAI,GAAKhI,EAAK,EAAKiI,kBAJuB,EAJ1D,qDAUE,WACE,OACEjD,QAAQrF,KAAKiH,SAAW9G,GAAkBoI,WAC1CpH,EAAiBlG,QAbvB,+BAgBE,WAAiB,WACf,OAAO,IAAI0D,SAAQ,SAACC,EAASiI,GAG3B,OAFA,EAAKmB,SAAWpJ,EAChB,EAAKqJ,QAAUpB,EACR,EAAK2B,gBApBlB,sBAuBE,WAAQ,WACN,OAAO9H,KAAK2H,KAAKI,oBAAoBC,MAAK,WACxC,IAAMC,EAAIlB,GAAW,EAAKpH,IAAK,EAAKqH,aAAc,EAAK9I,QAAQpD,KAAK,IACpE,GAAImN,EAAG,CACL,IAAM/M,EAAI,EAAK4M,WAGf,OAFA,EAAKH,KAAK/E,KAAO,EAAKgF,iBACtB,EAAKD,KAAK1B,QACH/K,EAEP,OAAO+C,QAAQC,eAhCvB,mBAoCE,WAGE,OAFA8B,KAAKgH,aAAaf,QAClBjG,KAAK2H,KAAK1B,QACHjG,OAvCX,mBAyCE,WAGE,OAFAA,KAAKgH,aAAahB,QAClBhG,KAAK2H,KAAK3B,QACHhG,OA5CX,qBA8CE,WACEA,KAAKgG,QACLhG,KAAKsH,UAAS,KAhDlB,oBAkDE,WACEtH,KAAKuH,YAnDT,kBAqDE,WACE,OAAOvH,SAtDX,GAAqC,ICLxB,GAAb,wDAIE,WAAYkI,GAAkB,oCAC5B,eAJM,EAAArD,MAAQ,EAEhB,EAAAsD,SAAoC,GAGlC,EAAKD,MAAQA,EAFe,EAJhC,gDAQE,WACE,OAAOlI,KAAKkI,MAAMlI,KAAK6E,SAT3B,4BAWE,WAAc,WAEZ,OADA7E,KAAKmI,SAAWnI,KAAKkI,MAAMlG,KAAI,SAAAoG,GAAI,OAAI,EAAKC,YAAYD,MACjDpI,OAbX,yBAeE,SAAYoI,GAAU,WACdlK,EAAUkK,EAAKlK,QAAQpD,KAAKsN,GAKlC,OAJAA,EAAKlK,QAAU,WACb,EAAK2G,QACL3G,KAEKkK,EAAKL,sBArBhB,+BAuBE,WAAiB,WACf,OAAO,IAAI9J,SAAQ,SAACC,EAASiI,GAG3B,OAFA,EAAKmB,SAAWpJ,EAChB,EAAKqJ,QAAUpB,EACR,EAAK2B,WACTE,KAAK,EAAK9J,QAAQpD,KAAK,IACvBwN,MAAM,EAAKnC,OAAOrL,KAAK,IACvByN,QAAQ,EAAKA,QAAQzN,KAAK,SA9BnC,sBAiCU,WACN,OAAIkF,KAAKmI,SAASjQ,OAAS8H,KAAK6E,MACvB7E,KAAKmI,SAASnI,KAAK6E,OAAOmD,KAAKhI,KAAK8H,SAAShN,KAAKkF,OAEpD/B,QAAQC,YArCnB,mBAuCE,WAEE,OADA8B,KAAKwI,aAAexI,KAAKwI,YAAYvC,QAC9BjG,OAzCX,mBA2CE,WAEE,OADAA,KAAKwI,aAAexI,KAAKwI,YAAYxC,QAC9BhG,OA7CX,qBA+CE,WACEA,KAAKsH,UAAS,KAhDlB,oBAkDE,WACEtH,KAAKgG,QACLhG,KAAKuH,YApDT,qBAsDE,cAtDF,kBAyDE,WAEE,OADAvH,KAAKwI,aAAexI,KAAKwI,YAAYC,OAC9BzI,SA3DX,GAA8B,ICGxB,SAAU0I,GACd/I,EACAqH,GAEA,OAAO,IAAI,GAAS,CAClB,IAAI,GAAgBrH,EAAKqH,KCItB,ICbH,GDaS,GAAb,WAGE,WAAY5C,GAAU,uBACpBpE,KAAKoE,KAAOA,EACZpE,KAAKmI,SAAWO,GAAe1I,KAAKoE,KAAKzE,IAAKK,KAAKoE,KAAK4C,cAL5D,4CAQE,WACO7G,EAAO5F,OACVyF,KAAK2I,QAEP3I,KAAKmI,SAAWO,GAAe1I,KAAKoE,KAAKzE,IAAKK,KAAKoE,KAAK4C,cACxDhH,KAAKmI,SACFO,iBACAX,oBACAC,MAAK,kBAAO5H,EAAU7F,OAAQ,KAC9B+N,OAAM,kBAAOlI,EAAU7F,OAAQ,KAC/BgO,SAAQ,kBAAOpM,EAAO5B,OAAQ,KACjCyF,KAAK4I,aACL5I,KAAK6I,cApBT,mBAuBE,WACE7I,KAAK8I,gBAxBT,sBA2BE,WACE9I,KAAK6I,cA5BT,iBA+BE,WACE7I,KAAK8I,gBAhCT,yBAkCE,WACE9I,KAAKoE,KAAK4C,aAAa+B,4BACvB/I,KAAKmI,SAASnC,QACd1F,MArCJ,uBAuCE,WACEN,KAAKoE,KAAK4C,aAAagC,2BACvBhJ,KAAKmI,SAASlC,QACd5F,MA1CJ,wBA4CE,WACEvE,EAASvB,MAAQ,EACjBwB,EAAUxB,MAAQ,IA9CtB,mBAgDE,WAAK,MACHyF,KAAKoE,KAAK4C,aAAaiC,QACvBjJ,KAAKoE,KAAK8E,OAAOxH,SAAQ,SAAA2B,GACvB,GAAWA,OAEb,EAAArD,KAAKoE,KAAK4C,cAAamC,MAAvB,uBAAgCnJ,KAAKoE,KAAK8E,WArD9C,oBAuDE,WACElJ,KAAKmI,SAAShC,WAxDlB,kBA0DE,WAEE,OADAnG,KAAKmI,SAASM,OACPzI,SA5DX,KEDa,GAAb,WAYE,oCAPA,KAAAkJ,OAAiC,GACzB,KAAAE,UAA6B,aAG7B,KAAAC,WAA8B,aAIpCrJ,KAAKL,IAAM,IAAI,OAAiB,CAC9BV,OAAQ3B,IACRyB,MAAOrB,MAETsC,KAAKgH,aAAe,IAAI,GAAahH,MACrCA,KAAKkG,UAAY,IAAI,GAAUlG,MAC/BA,KAAKsJ,cAAgB,SAAAxG,GACA,UAAfA,EAAMyG,OACJpN,EAAO5B,OACT4B,EAAO5B,OAAQ,EACf4F,EAAO5F,OAAQ,GAEf6B,EAAQ7B,OAAS6B,EAAQ7B,QAzBnC,oGA8BE,oHACQyF,KAAKwJ,eADb,QAEE,EAAAxJ,KAAKgH,cAAamC,MAAlB,uBAA2BnJ,KAAKkJ,SAFlC,gDA9BF,4IAkCE,2HACQtL,EAAW,QAAS,MAD5B,OAEQ6L,EAAO,CAAChG,GAAmBQ,IACjCjE,KAAKkJ,OAASO,EACXrQ,OAAO,EAAGqH,EAAiBlG,OAC3ByH,KAAI,SAAAuB,GAAS,OAAID,GAAY,EAAK3D,IAAK4D,MAL5C,gDAlCF,qFAyCE,WAAc,WACZvD,KAAK0J,mBACL1J,KAAKoJ,UAAY,eAAMjN,GAAQ,SAAA5B,GACzBA,EACF,EAAK2L,UAAUyD,MAEf,EAAKzD,UAAUD,WAGnBjG,KAAKqJ,WAAa,eAAMjN,GAAS,SAAA7B,GAC3BA,EACF,EAAK2L,UAAUF,QAEf,EAAKE,UAAU0D,gBAtDvB,8BA0DE,WACiC,oBAApB5J,KAAKqJ,YACdrJ,KAAKqJ,eA5DX,6BA+DE,WACErJ,KAAK6J,oBACLzO,OAAOgH,iBAAiB,QAASpC,KAAKsJ,iBAjE1C,+BAmEE,WACElO,OAAOoH,oBAAoB,QAASxC,KAAKsJ,iBApE7C,kBAsEE,WAEE,OADAtJ,KAAKkG,UAAUuC,OACRzI,SAxEX,KDXM,SAAU8J,KAMd,OALK,KACH,GAAO,IAAI,GACX,GAAKC,kBACL,GAAKC,kBAEA,GELH,SAAUC,KACd,IAAMC,EAAO,GAAMlI,KAAI,SAAAL,GACrB,MAAO,CACL7H,KAAM6H,EAAK+E,YACXyD,IAAKxI,EAAK9D,QAOd,OAJAqM,EAAK1R,KAAK,CACRsB,KAAM+M,GAASH,YACfyD,IAAKtD,GAAShJ,MAET,IAAII,SAAQ,SAAUC,GAC3B,OAAOH,OAAOI,IAAI+L,GAAM9L,KAAKF,MCClB,QACbkM,WAAY,CACVC,YAEFnN,MAJa,WAKX,IAAIkH,EACJ,SAASvH,IACPuH,EAAKqE,OAEP,IAAM6B,EAAwB,eAAI/M,SAASC,iBACrC+M,EAAkC,eAAIhN,SAASC,iBAC/CxB,EAAS,gBAAI,GACnB,SAASO,IACPJ,EAAO5B,OAAQ,EACf4F,EAAO5F,OAAQ,EAEjB,SAASiC,IACPJ,EAAQ7B,OAAQ,EAElB,IAAM+B,EAAU,gBAAS,kBACvB8D,EAAU7F,MAAQ,YAAc,aAclC,SAAS2B,IACLoO,EAAI/P,MAA2BiQ,OAEnC,SAASvO,IACLqO,EAAI/P,MAA2ByL,QAGnC,OAnBA,eAAS,wCAAC,qGACRsE,EAAI/P,MAAM6H,iBAAiB,QAAQ,WACjCpG,EAAOzB,OAAQ,KAEjB+P,EAAI/P,MAAM6H,iBAAiB,SAAS,WAClCpG,EAAOzB,OAAQ,KALT,SAOF0P,KAPE,cAQR7F,EAAO0F,KARC,SASF1F,EAAKqG,OATH,OAURF,EAAchQ,MAAMmQ,YAAYtG,EAAKzE,IAAIgL,MAVjC,4CAmBH,CACLJ,gBACAhO,cACAC,iBACAL,SACAC,UACAgE,YACA/D,WACAP,WACAC,YACAO,UACAN,SACAsO,MACApO,UACAD,WACAQ,cAAeiE,EAAMC,MAAMlE,cAC3BI,gB,oBCnEN,GAAOO,OAASA,EAChB,GAAOC,UAAY,kBAEJ,U,UCLf,eAAUuN,IAAKC,MAAM,S,qBCJrBpR,EAAOD,QAAU,IAA0B,8B","file":"js/app.20845d13.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=9a5a9848&lang=css\"","module.exports = __webpack_public_path__ + \"img/xing-tian.d73f4806.png\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=1&id=9a5a9848&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/hou.83adadc2.png\";","module.exports = __webpack_public_path__ + \"img/gyarados.e3ea375f.png\";","module.exports = __webpack_public_path__ + \"media/bgm.1afd5b1f.mp3\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=239a98d5&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/qiong-qi.c80cd027.png\";","module.exports = __webpack_public_path__ + \"img/whale.855b540a.png\";","module.exports = __webpack_public_path__ + \"img/gu-diao.2b76e122.png\";","<template>\n  <div class=\"container\">\n    <div ref=\"pixiContainer\" id=\"pixi\"></div>\n    <div class=\"top-right-box\">\n      <div class=\"game-status\">\n        <div class=\"game-time\">{{ gameTime }}</div>\n        <div class=\"game-value\">积分：{{ gameValue }}</div>\n      </div>\n      <audio ref=\"bgm\">\n        <source src=\"./assets/audio/bgm.mp3\" type=\"audio/mpeg\" loop autoplay />\n      </audio>\n      <i v-if=\"isPlay\" @click=\"bmgPause\" class=\"iconfont icon-bofangyinle\"></i>\n      <i v-else @click=\"bmgPlay\" class=\"iconfont icon-guanbiyinle\"></i>\n      <i class=\"iconfont icon-a-shezhi\"></i>\n    </div>\n    <div v-if=\"isIdle || isPause\" class=\"center-box\">\n      <p v-if=\"isPlayed\" class=\"end-text\">{{ endText }}</p>\n      <div v-if=\"isIdle\" @click=\"handleStart\" class=\"start-btn\">山海经</div>\n      <div v-else-if=\"isPause\" @click=\"handleContinue\" class=\"start-btn\">\n        继续\n      </div>\n    </div>\n    <DiaLogue\n      v-if=\"messageObject.text\"\n      :text=\"messageObject.text\"\n      :leftImg=\"messageObject.leftImg\"\n      :rightImg=\"messageObject.rightImg\"\n      @click=\"handleNext\"\n    ></DiaLogue>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, computed, onMounted, Ref } from 'vue'\nimport DiaLogue from './components/DiaLogue/index.vue'\nimport { getGame } from './pixi'\nimport { Game } from './pixi/lib/game'\nimport { loaderImg } from './pixi/npc/loader'\nimport {\n  isInit,\n  isIdle,\n  isPause,\n  isSuccess,\n  isPlayed,\n  gameTime,\n  gameValue,\n  store,\n} from './pixi/reactivity'\nexport default {\n  components: {\n    DiaLogue,\n  },\n  setup() {\n    let game: Game\n    function handleNext() {\n      game.next()\n    }\n    const bgm: Ref<HTMLElement> = ref(document.documentElement)\n    const pixiContainer: Ref<HTMLElement> = ref(document.documentElement)\n    const isPlay = ref(false)\n    function handleStart() {\n      isIdle.value = false\n      isInit.value = false\n    }\n    function handleContinue() {\n      isPause.value = false\n    }\n    const endText = computed(() =>\n      isSuccess.value ? '恭喜你！羽化成鲲！' : '游戏结束，鲸落'\n    )\n    onMounted(async () => {\n      bgm.value.addEventListener('play', () => {\n        isPlay.value = true\n      })\n      bgm.value.addEventListener('pause', () => {\n        isPlay.value = false\n      })\n      await loaderImg()\n      game = getGame()\n      await game.init()\n      pixiContainer.value.appendChild(game.app.view)\n    })\n    function bmgPlay() {\n      ;(bgm.value as HTMLAudioElement).play()\n    }\n    function bmgPause() {\n      ;(bgm.value as HTMLAudioElement).pause()\n    }\n\n    return {\n      pixiContainer,\n      handleStart,\n      handleContinue,\n      isIdle,\n      isPause,\n      isSuccess,\n      isPlayed,\n      gameTime,\n      gameValue,\n      endText,\n      isPlay,\n      bgm,\n      bmgPlay,\n      bmgPause,\n      messageObject: store.state.messageObject,\n      handleNext,\n    }\n  },\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nhtml {\n  overflow: hidden;\n}\n#app {\n}\n</style>\n<style scoped>\n.center-box {\n  text-align: center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.end-text {\n  color: #fff;\n  font-size: 32px;\n  margin-bottom: 20px;\n}\n.start-btn {\n  background: #fff;\n  width: 300px;\n  height: 80px;\n  font-size: 36px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.top-right-box {\n  display: flex;\n  align-items: center;\n  color: #fff;\n  position: absolute;\n  top: 15px;\n  right: 0;\n}\n.top-right-box .iconfont {\n  font-size: 24px;\n  cursor: pointer;\n}\n.top-right-box > * {\n  margin-right: 15px;\n}\n.game-time,\n.game-value {\n  text-align: center;\n}\n</style>\n","<template>\n  <div class=\"diaLogue\" @click=\"handleClick\">\n    <div class=\"diaLogue-box\">\n      <div class=\"content\">\n        <p>{{ text }}</p>\n      </div>\n      <img v-if=\"leftImg\" class=\"left-img\" :src=\"leftImg\" alt=\"你\" />\n      <img v-if=\"rightImg\" class=\"right-img\" :src=\"rightImg\" alt=\"他\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DiaLogue',\n  props: {\n    leftImg: String,\n    rightImg: String,\n    text: String,\n  },\n  setup(props, { emit }) {\n    function handleClick() {\n      emit('click')\n    }\n    return {\n      handleClick,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.diaLogue {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  .diaLogue-box {\n    position: relative;\n    width: 100vw;\n    background: #eee;\n    height: 300px;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=239a98d5&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=239a98d5&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-239a98d5\"\n\nexport default script","import { Loader, Sprite, ILoaderResource } from 'pixi.js'\nexport const getDocumentHeight = (): number =>\n  document.documentElement.clientHeight\nexport const getDocumentWidth = (): number =>\n  document.documentElement.clientWidth\n\n// export function loaderPromise (...arr: [Array<{\n//   name: string;\n//   url: string;\n// }>] | [name: string, url: string]) {\n//   return new Promise(function (resolve) {\n//     Loader.shared\n//       .add(...arr)\n//       .load(resolve)\n//   })\n// }\nexport function getTexture(\n  key: string,\n  img: string\n): Promise<unknown[]> | ILoaderResource['texture'] {\n  const resources = Loader.shared.resources\n  if (!resources[key]?.texture) {\n    return new Promise(function (resolve) {\n      Loader.shared.add(key, img).load(resolve)\n    })\n  }\n  return resources[key].texture\n}\nexport function hitTestRectangle(r1: Sprite, r2: Sprite): boolean {\n  const obj1 = {\n    centerX: 0,\n    centerY: 0,\n    halfWidth: 0,\n    halfHeight: 0,\n  }\n  const obj2 = {\n    centerX: 0,\n    centerY: 0,\n    halfWidth: 0,\n    halfHeight: 0,\n  }\n  // 获取中点\n  obj1.centerX = r1.x + r1.width / 2\n  obj1.centerY = r1.y + r1.height / 2\n  obj2.centerX = r2.x + r2.width / 2\n  obj2.centerY = r2.y + r2.height / 2\n\n  // 获取半径\n  obj1.halfWidth = r1.width / 2\n  obj1.halfHeight = r1.height / 2\n  obj2.halfWidth = r2.width / 2\n  obj2.halfHeight = r2.height / 2\n\n  // 两个物体中点的距离\n  const vx = obj1.centerX - obj2.centerX\n  const vy = obj1.centerY - obj2.centerY\n\n  // 接触距离\n  const combinedHalfWidths = obj1.halfWidth + obj2.halfWidth\n  const combinedHalfHeights = obj1.halfHeight + obj2.halfHeight\n  // x中点距离 < x接触距离 && y中点距离 < x接触距离\n  return Math.abs(vx) < combinedHalfWidths && Math.abs(vy) < combinedHalfHeights\n}\n","import { ref, computed, reactive } from 'vue'\nimport { Message } from './message'\n// 是否空闲\nexport const isIdle = ref(true)\n// 空闲模式：是否初始化。true即为游戏结束，init是为了做一个初始化的东西\nexport const isInit = ref(true)\n// 是否胜利\nexport const isSuccess = ref(false)\n// 非空闲（游戏中）：是否暂停\nexport const isPause = ref(false)\nexport const isPlayed =\n  // 非初始化 && 空闲\n  computed(() => !isInit.value && isIdle.value)\n// 游戏时间\nexport const gameTime = ref(0)\nlet time: number\nexport function startGameTime(): void {\n  pauseGameTime()\n  time = setTimeout(() => {\n    gameTime.value += 1\n    startGameTime()\n  }, 1000)\n}\nexport function pauseGameTime(): void {\n  clearTimeout(time)\n}\n// 游戏积分\nexport const gameValue = ref(0)\n// 玩家数量\nexport const gamePlayerNumber = ref(1)\n// 播放音乐\nexport const isPlay = ref(false)\nconst messageObject = {\n  text: '',\n  leftImg: '',\n  rightImg: '',\n}\nexport const store = {\n  state: reactive({\n    // 对话\n    messageObject: messageObject,\n    // 签名\n    signShow: false,\n    signValue: '',\n  }),\n  setMessageObject(obj: Message): void {\n    this.state.messageObject = { ...messageObject, ...obj }\n  },\n  setSignShow(value = false) {\n    this.state.signShow = value\n  },\n  setSignValue(value = '') {\n    this.state.signValue = value\n  },\n}\n","export const HEALTH_VALUE = 30 // 基础生命值\nexport const FACTORY_NPC_ITEM = 1500 // npc的生产时间\nexport const NPC_TYPE_TASK_ITEM = 25 // npc每种任务时间\n","import { Application, Sprite } from 'pixi.js'\nimport { HEALTH_VALUE } from '../constant/index'\nexport class Fish {\n  app\n  sprite\n  size: {\n    width: number\n    height: number\n  }\n  delicious\n  private _healthValue = 0\n  constructor(\n    app: Application,\n    sprite: Sprite,\n    healthValue = HEALTH_VALUE,\n    delicious = 1\n  ) {\n    this.app = app\n    this.sprite = sprite\n    // 一定要比healthValue更早赋值，因为healthValue的set用到了size\n    this.size = {\n      width: sprite.width,\n      height: sprite.height,\n    } // 图片尺寸\n    this.healthValue = healthValue // 生命值\n    this.delicious = delicious\n  }\n  get healthValue(): number {\n    return this._healthValue\n  }\n  set healthValue(value: number) {\n    this._healthValue = value\n    this.sprite.width = value\n    this.sprite.height = (this.size.height * this.healthValue) / this.size.width\n  }\n  getSprite(): Sprite {\n    return this.sprite\n  }\n  collision(fish: Fish): boolean {\n    return this.healthValue > fish.healthValue\n  }\n  eat(delicious: number): this {\n    this.healthValue += delicious\n    return this\n  }\n  start(): this {\n    return this\n  }\n  pause(): this {\n    return this\n  }\n  destruction(): this {\n    return this\n  }\n}\n","import { Application, Sprite } from 'pixi.js'\nimport { isPause } from '../reactivity'\nexport interface moveCombinationEvents {\n  [key: string]: {\n    down: (v: number) => void\n    up?: () => void\n  }\n}\nexport class moveCombination {\n  app\n  sprite\n  private v = 0\n  v0\n  v1\n  direction: string | number = ''\n  private _direction: string | number = ''\n  private timeNow = 0\n  private _recovery: () => void\n  keyboardMoveCombination: Array<KeyboardMove> = []\n  constructor(app: Application, sprite: Sprite, v0: number, v1: number) {\n    this.app = app\n    this.sprite = sprite\n    this.v0 = v0\n    this.v1 = v1\n    this._recovery = () => {\n      this.keyboardMoveCombination.forEach(item => item.cease())\n      this.recovery()\n    }\n    this.recovery()\n  }\n  bind(events: moveCombinationEvents): void {\n    this.keyboardMoveCombination = Object.keys(events).map(key => {\n      return new KeyboardMove(\n        key,\n        () => {\n          if (isPause.value) return\n          this.direction = key\n          this.quicken()\n          events[key].down(this.v)\n        },\n        () => {\n          this.recovery()\n          events[key]?.up?.()\n        }\n      )\n    })\n    window.addEventListener('blur', this._recovery)\n  }\n  quicken(): void {\n    if (this.direction !== this._direction) {\n      this.timeNow = Date.now() + 250\n      this._direction = this.direction\n    }\n    if (this.timeNow) {\n      if (Date.now() >= this.timeNow) {\n        this.v = Math.min(this.v + 1, this.v1)\n        this.timeNow = Date.now() + 250\n      }\n    }\n  }\n  recovery(): void {\n    this.timeNow = 0\n    this.v = this.v0\n    this.direction = ''\n    this._direction = ''\n  }\n  removeEvent(): void {\n    window.removeEventListener('blur', this._recovery)\n    this.keyboardMoveCombination.forEach(item => item.removeEvent())\n  }\n}\nexport class KeyboardMove {\n  keydown\n  keyup\n  private time = 0\n  private handleKeydown: (event: KeyboardEvent) => void\n  private handleKeyup: (event: KeyboardEvent) => void\n  constructor(\n    value: number | string,\n    keydown: () => void,\n    keyup?: (event: KeyboardEvent) => void\n  ) {\n    this.keydown = keydown\n    this.keyup = keyup\n    this.time\n    this.handleKeydown = (event: KeyboardEvent) => {\n      if (!this.time && event.key === value) {\n        this.step()\n      }\n    }\n    this.handleKeyup = (event: KeyboardEvent) => {\n      if (event.key === value) {\n        this.keyup?.(event)\n        this.cease()\n      }\n    }\n    this.addEvent()\n  }\n  step(): void {\n    this.time = requestAnimationFrame(() => {\n      this.keydown()\n      this.step()\n    })\n  }\n  cease(): void {\n    cancelAnimationFrame(this.time)\n    this.time = 0\n  }\n  addEvent(): void {\n    this.handleKeydown &&\n      window.addEventListener('keydown', this.handleKeydown, false)\n    this.handleKeyup &&\n      window.addEventListener('keyup', this.handleKeyup, false)\n  }\n  removeEvent(): void {\n    this.handleKeydown &&\n      window.removeEventListener('keydown', this.handleKeydown)\n    this.handleKeyup && window.removeEventListener('keyup', this.handleKeyup)\n  }\n}\n","import { Application, Sprite } from 'pixi.js'\nimport { Fish } from './fish'\nimport { moveCombination, moveCombinationEvents } from './keyboardMove'\nexport class PlayerCharacter extends Fish {\n  keyboardMove\n  constructor(\n    app: Application,\n    sprite: Sprite,\n    v0 = 3,\n    v1 = 4,\n    healthValue?: number,\n    delicious?: number\n  ) {\n    super(app, sprite, healthValue, delicious)\n    this.keyboardMove = new moveCombination(this.app, this.sprite, v0, v1)\n  }\n  bind(events: moveCombinationEvents): this {\n    this.keyboardMove.bind(events)\n    return this\n  }\n}\n","import * as PIXI from 'pixi.js'\n\nimport { PlayerCharacter } from '../lib/playerCharacter'\nimport { HEALTH_VALUE } from '../constant/index'\nimport { Fish } from '../lib/fish'\nimport { OperationFunction } from './operationMove'\n\nexport function regression(whale: Fish): void {\n  whale.healthValue = HEALTH_VALUE\n}\nexport function createWhale(\n  app: PIXI.Application,\n  bindEvent: OperationFunction\n): PlayerCharacter {\n  const whaleSprite = new PIXI.Sprite(\n    PIXI.Loader.shared.resources.whale.texture\n  )\n  const whale = new PlayerCharacter(app, whaleSprite, 3, 4)\n  if (typeof bindEvent === 'function') {\n    whale.bind(bindEvent(app, whaleSprite))\n  }\n  return whale\n}\n","import { Application, Sprite } from 'pixi.js'\nimport { moveCombinationEvents } from '../lib/keyboardMove'\nexport type OperationFunction = (\n  app: Application,\n  sprite: Sprite\n) => moveCombinationEvents\nexport const getArrowOperation: OperationFunction = (app, sprite) => {\n  return {\n    ArrowUp: {\n      down: (v: number) => {\n        if (sprite.y > 0) {\n          sprite.y -= v\n        } else {\n          sprite.y = 0\n        }\n      },\n    },\n    ArrowRight: {\n      down: (v: number) => {\n        const maxX = app.renderer.width - sprite.width\n        if (maxX > sprite.x) {\n          sprite.x += v\n        } else {\n          sprite.x = maxX\n        }\n      },\n    },\n    ArrowDown: {\n      down: (v: number) => {\n        const maxY = app.renderer.height - sprite.height\n        if (maxY > sprite.y) {\n          sprite.y += v\n        } else {\n          sprite.y = maxY\n        }\n      },\n    },\n    ArrowLeft: {\n      down: (v: number) => {\n        if (sprite.x > 0) {\n          sprite.x -= v\n        } else {\n          sprite.x -= 0\n        }\n      },\n    },\n  }\n}\nexport const getEnglishOperation: OperationFunction = (app, sprite) => {\n  return {\n    w: {\n      down: (v: number) => {\n        if (sprite.y > 0) {\n          sprite.y -= v\n        } else {\n          sprite.y = 0\n        }\n      },\n    },\n    d: {\n      down: (v: number) => {\n        const maxX = app.renderer.width - sprite.width\n        if (maxX > sprite.x) {\n          sprite.x += v\n        } else {\n          sprite.x = maxX\n        }\n      },\n    },\n    s: {\n      down: (v: number) => {\n        const maxY = app.renderer.height - sprite.height\n        if (maxY > sprite.y) {\n          sprite.y += v\n        } else {\n          sprite.y = maxY\n        }\n      },\n    },\n    a: {\n      down: (v: number) => {\n        if (sprite.x > 0) {\n          sprite.x -= v\n        } else {\n          sprite.x -= 0\n        }\n      },\n    },\n  }\n}\n","import { TickerCallback, Application } from 'pixi.js'\nimport { hitTestRectangle } from '../utils'\nimport { gameValue } from '../reactivity'\nimport { Game } from './game'\nimport { NPCFish } from './NPCFish'\nimport { PlayerCharacter } from './playerCharacter'\nimport { Fish } from './fish'\nexport class Organization {\n  static npcMax = 20\n  game\n  materialList: Array<NPCFish>\n  pcList: Array<PlayerCharacter>\n  private handleTick: TickerCallback<undefined>\n  constructor(game: Game) {\n    this.game = game\n    this.materialList = []\n    this.pcList = []\n    this.handleTick = () => {\n      this.forTesting()\n    }\n  }\n  get app(): Application {\n    return this.game.app\n  }\n  get width(): number {\n    return this.app.renderer.width\n  }\n  get height(): number {\n    return this.app.renderer.height\n  }\n  get Number(): number {\n    return this.materialList.length + this.pcList.length\n  }\n  get isFull(): boolean {\n    return Organization.npcMax <= this.Number\n  }\n  addPC(...pc: Array<PlayerCharacter>): this {\n    this.pcList.push(...pc)\n    pc.forEach(item => this.add(item))\n    return this\n  }\n  removePC(pc: PlayerCharacter): this {\n    const index = this.pcList.findIndex(item => pc === item)\n    if (index !== -1) {\n      this.pcList.splice(index, 1)\n      this.remove(pc)\n    }\n    return this\n  }\n  addMaterial(...material: Array<NPCFish>): this {\n    if (this.isFull) return this\n    const materials = material.slice(0, Organization.npcMax - this.Number)\n    this.materialList.push(...materials)\n    materials.forEach(item => this.add(item))\n    return this\n  }\n  removeMaterial(material: NPCFish): this {\n    const index = this.materialList.findIndex(item => material === item)\n    if (index !== -1) {\n      this.materialList.splice(index, 1)\n      this.remove(material)\n    }\n    return this\n  }\n  add(material: Fish): this {\n    this.app.stage.addChild(material.getSprite())\n    return this\n  }\n  remove(material: Fish): this {\n    this.app.stage.removeChild(material.getSprite())\n    material.destruction()\n    return this\n  }\n  empty(): this {\n    this.materialList.forEach(item => this.remove(item))\n    this.materialList.length = 0\n    this.pcList.forEach(item => this.remove(item))\n    this.pcList.length = 0\n    return this\n  }\n  openTickHitTestRectangle(): this {\n    this.app.ticker.add(this.handleTick)\n    return this\n  }\n  closeTickHitTestRectangle(): this {\n    this.app.ticker.remove(this.handleTick)\n    return this\n  }\n  forTesting(): void {\n    let material, pc\n    for (let i = 0; i < this.pcList.length; i++) {\n      pc = this.pcList[i]\n      for (let j = 0; j < this.materialList.length; j++) {\n        material = this.materialList[j]\n        if (this.hit(material, pc)) return\n        this.out(material)\n      }\n    }\n  }\n  // 检测碰撞\n  hit(material: NPCFish, pc: PlayerCharacter): boolean {\n    if (hitTestRectangle(pc.getSprite(), material.getSprite())) {\n      // 物料是否比主角大\n      if (material.collision(pc)) {\n        material.eat(pc.delicious)\n        this.removePC(pc)\n        this.gameOver()\n\n        return true\n      } else {\n        pc.eat(material.delicious)\n        this.removeMaterial(material)\n        gameValue.value += material.delicious\n        return false\n      }\n    }\n    return false\n  }\n  // 检测是否出界\n  out(material: NPCFish): this {\n    if (\n      (material.direction === 'l' &&\n        material.getSprite().x > this.width + material.getSprite().width) ||\n      (material.direction === 'r' &&\n        material.getSprite().x < -material.getSprite().width)\n    ) {\n      this.removeMaterial(material)\n    }\n    return this\n  }\n  pause(): this {\n    this.materialList.forEach(material => material.pause())\n    return this\n  }\n  start(): this {\n    this.materialList.forEach(material => material.start())\n    return this\n  }\n  gameOver(): this {\n    if (!this.pcList.length) {\n      this.game.gameCycle.reject()\n    }\n    return this\n  }\n}\n","import { Application, Sprite, TickerCallback } from 'pixi.js'\nimport { Fish } from './fish'\nexport enum Direction {\n  l = 'l',\n  r = 'r',\n}\nexport class NPCFish extends Fish {\n  speed\n  direction\n  private move: TickerCallback<undefined>\n  constructor(\n    app: Application,\n    sprite: Sprite,\n    healthValue: number,\n    direction: Direction = Direction.l,\n    delicious = 1,\n    speed = 1\n  ) {\n    super(app, sprite, healthValue, delicious)\n    this.speed = speed\n    this.direction = direction // r, l\n    this.move = () => {\n      const speed = this.speed\n      this.sprite.x += this.direction === 'l' ? speed : -speed\n    }\n  }\n  positionOut(): this {\n    this.sprite.x =\n      this.direction === 'l' ? -this.sprite.width : this.app.renderer.width\n    this.sprite.y = Math.min(\n      this.app.renderer.height - this.sprite.height,\n      Math.random() * this.app.renderer.height\n    )\n    return this\n  }\n  start(): this {\n    this.app.ticker.add(this.move)\n    return this\n  }\n  pause(): this {\n    this.app.ticker.remove(this.move)\n    return this\n  }\n  destruction(): this {\n    this.pause()\n    return this\n  }\n}\n","import { HEALTH_VALUE } from '../constant/index'\nexport interface ShanhaichingInfo {\n  name: string\n  introduce: string\n  textureName: string\n  img: string\n}\nexport interface ShanhaichingNPCInfo extends ShanhaichingInfo {\n  healthValue: number\n  delicious: number\n}\nconst infos: Array<ShanhaichingInfo> = [\n  {\n    name: '冉遗鱼',\n    introduce:\n      '冉遗鱼是古代中国神话中的怪鱼。英鞮山，涴水从这座山发源，然后向北流入陵羊泽。水里有很多冉遗鱼，这种鱼长着鱼身、蛇头，还有六只脚，他的眼睛形状如同马的耳朵，吃了这种鱼可以使人不患梦魇症，还可以防御凶灾。出自《山海经》',\n    textureName: 'ran-yi-yu',\n    img: require('../../assets/images/ran-yi-yu.png'),\n  },\n  {\n    name: '蛊雕',\n    introduce:\n      '蛊雕又称纂雕，是一种似鸟非鸟的食人怪兽，样子像雕，头上长角，叫声像婴儿的哭啼声，是古代中国神话传说中的一种怪兽',\n    textureName: 'gu-diao',\n    img: require('../../assets/images/gu-diao.png'),\n  },\n  {\n    name: '暴鲤龙',\n    introduce:\n      '体型拥有超过六公尺的巨大身体，性情极为暴躁，抚摸它头上的角可以让它变得温和。可一旦暴动，不烧烬一切凶暴血液就绝不会平静。留有曾经连续一个月暴走的记录，非常凶暴的宝可梦。',\n    textureName: 'gyarados',\n    img: require('../../assets/images/gyarados.png'),\n  },\n  {\n    name: '穷奇',\n    introduce:\n      '据说穷奇经常飞到打斗的现场，将有理的一方吃掉，将忠诚的人鼻子咬掉；如果有人犯下恶行，穷奇会捕捉野兽送给他，并且鼓励他多做坏事。古人也把那种不重心意、远君子近小人的人称为穷奇。',\n    textureName: 'qiong-qi',\n    img: require('../../assets/images/qiong-qi.png'),\n  },\n  {\n    name: '刑天',\n    introduce:\n      '刑天，是中国远古神话传说人物，手使一柄巨斧和盾牌，身强力壮，体型巨大的上古巨人，炎帝手下大将，和黄帝争位，被斩去头颅，失了首级后，以双乳为眼，肚脐为口，再战黄帝。',\n    textureName: 'xing-tian',\n    img: require('../../assets/images/xing-tian.png'),\n  },\n]\nconst shanhaichingNPCInfo: Array<ShanhaichingNPCInfo> = infos.map(\n  (info, index) => {\n    return {\n      ...info,\n      healthValue: index * 0.6 * HEALTH_VALUE + HEALTH_VALUE,\n      delicious: index * 0.1 + 0.5,\n    }\n  }\n)\nexport default shanhaichingNPCInfo\nexport const bossInfo: ShanhaichingNPCInfo = {\n  name: '犼',\n  introduce:\n    '体型拥有超过六公尺的巨大身体，性情极为暴躁，抚摸它头上的角可以让它变得温和。可一旦暴动，不烧烬一切凶暴血液就绝不会平静。留有曾经连续一个月暴走的记录，非常凶暴的宝可梦。',\n  textureName: 'hou',\n  img: require('../../assets/images/hou.png'),\n  healthValue: infos.length * HEALTH_VALUE,\n  delicious: infos.length,\n}\n","import * as PIXI from 'pixi.js'\nimport infos, { ShanhaichingNPCInfo } from './infos'\nexport interface NPCInfo extends ShanhaichingNPCInfo {\n  texture: PIXI.Texture<PIXI.Resource> | undefined\n}\nexport default function createNpc(index: number): false | NPCInfo {\n  if (index >= infos.length) {\n    return false\n  } else {\n    const info = infos[index]\n    return {\n      ...info,\n      texture: PIXI.Loader.shared.resources[info.textureName].texture,\n    }\n  }\n}\n","import * as PIXI from 'pixi.js'\nimport { NPCFish, Direction } from '../lib/NPCFish'\nimport { Organization } from '../lib/container'\nimport { FactoryFishTask } from '../lib/FactoryFishTask'\nimport { gameTime } from '../reactivity'\nimport { NPC_TYPE_TASK_ITEM } from '../constant'\nimport createNpc, { NPCInfo } from './type'\nexport function createFish(\n  app: PIXI.Application,\n  organization: Organization,\n  resolve: FactoryFishTask['resolve']\n): boolean {\n  const npc = createNpc(createType())\n  if (!npc) {\n    resolve()\n    return false\n  }\n  const { texture, healthValue } = npc as NPCInfo\n  const sprite = new PIXI.Sprite(texture)\n  const fish = new NPCFish(\n    app,\n    sprite,\n    healthValue,\n    Math.random() > 0.5 ? Direction.r : Direction.l\n  )\n  fish.positionOut()\n  organization.addMaterial(fish)\n  fish.start()\n  return true\n}\nexport function createType(): number {\n  return Math.floor(gameTime.value / NPC_TYPE_TASK_ITEM)\n}\n","export abstract class Task implements Next {\n  protected _resolve: (value: unknown) => void = () => {\n    // 属性xxx没有初始化表达式，且未在构造函数中明确赋值\n  }\n  protected _reject: (reason?: unknown) => void = () => {\n    // 属性xxx没有初始化表达式，且未在构造函数中明确赋值\n  }\n  abstract createTaskPromise(): Promise<unknown>\n  abstract start(): this\n  abstract pause(): this\n  abstract next(): this\n  abstract resolve(): void\n  abstract reject(): void\n}\nexport interface Next {\n  next(): this\n}\n","import { Application, TickerCallback } from 'pixi.js'\nimport { Task } from './task'\nexport class Wait extends Task {\n  app\n  time\n  private move: TickerCallback<unknown>\n  private waitTime = 0\n  private _time\n  private ing = false\n  constructor(app: Application, time = 2000) {\n    super()\n    this.app = app\n    this.time = time\n    this._time = time\n    this.move = () => {\n      if (this.waitTime <= Date.now()) {\n        this.resolve()\n        this._time = this.time\n      }\n    }\n  }\n  createTaskPromise(): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n      this.ing = true\n    })\n  }\n  start(): this {\n    this.app.ticker.add(this.move)\n    if (this.ing) {\n      this.waitTime = Date.now() + this._time\n    }\n    return this\n  }\n  pause(): this {\n    this.app.ticker.remove(this.move)\n    if (this.ing) {\n      this._time = this.waitTime - Date.now()\n    }\n    return this\n  }\n  resolve(): void {\n    this._resolve(true)\n    this.ing = false\n  }\n  reject(): void {\n    this._reject()\n    this.ing = false\n  }\n  finally(): void {\n    // 占位\n  }\n  next(): this {\n    return this\n  }\n}\n","import { Application } from 'pixi.js'\nimport { FACTORY_NPC_ITEM } from '../constant'\nimport { gamePlayerNumber } from '../reactivity'\nimport { Organization } from './container'\nimport { createFish } from '../npc/fish'\nimport { Task } from './task'\nimport { Wait } from './wait'\nexport class FactoryFishTask extends Task {\n  app\n  organization\n  private wait\n  constructor(app: Application, organization: Organization) {\n    super()\n    this.app = app\n    this.organization = organization\n    this.wait = new Wait(app, this.getMillisecond())\n  }\n  getMillisecond(): number {\n    return (\n      Number((Math.random() * FACTORY_NPC_ITEM).toFixed()) /\n      gamePlayerNumber.value\n    )\n  }\n  createTaskPromise(): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n      return this.nextThen()\n    })\n  }\n  nextThen(): Promise<unknown> {\n    return this.wait.createTaskPromise().then(() => {\n      const b = createFish(this.app, this.organization, this.resolve.bind(this))\n      if (b) {\n        const p = this.nextThen()\n        this.wait.time = this.getMillisecond()\n        this.wait.start()\n        return p\n      } else {\n        return Promise.resolve()\n      }\n    })\n  }\n  start(): this {\n    this.organization.start()\n    this.wait.start()\n    return this\n  }\n  pause(): this {\n    this.organization.pause() // 暂停游泳\n    this.wait.pause()\n    return this\n  }\n  resolve(): void {\n    this.pause()\n    this._resolve(true)\n  }\n  reject(): void {\n    this._reject()\n  }\n  next(): this {\n    return this\n  }\n}\n","import { Task } from './task'\n\nexport class TaskList extends Task {\n  private index = 0\n  tasks\n  taskList: Array<Promise<unknown>> = []\n  constructor(tasks: Array<Task>) {\n    super()\n    this.tasks = tasks\n  }\n  get currentTask(): Task {\n    return this.tasks[this.index]\n  }\n  createTaskList(): this {\n    this.taskList = this.tasks.map(task => this.taskPackage(task))\n    return this\n  }\n  taskPackage(task: Task): Promise<unknown> {\n    const resolve = task.resolve.bind(task)\n    task.resolve = () => {\n      this.index++\n      resolve()\n    }\n    return task.createTaskPromise()\n  }\n  createTaskPromise(): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n      return this.nextThen()\n        .then(this.resolve.bind(this))\n        .catch(this.reject.bind(this))\n        .finally(this.finally.bind(this))\n    })\n  }\n  private nextThen(): Promise<unknown> {\n    if (this.taskList.length > this.index) {\n      return this.taskList[this.index].then(this.nextThen.bind(this))\n    }\n    return Promise.resolve()\n  }\n  start(): this {\n    this.currentTask && this.currentTask.start()\n    return this\n  }\n  pause(): this {\n    this.currentTask && this.currentTask.pause()\n    return this\n  }\n  resolve(): void {\n    this._resolve(true)\n  }\n  reject(): void {\n    this.pause()\n    this._reject()\n  }\n  finally(): void {\n    // 占位\n  }\n  next(): this {\n    this.currentTask && this.currentTask.next()\n    return this\n  }\n}\n","import { Application } from 'pixi.js'\nimport { FactoryFishTask } from '../lib/factoryFishTask'\nimport { TaskList } from '../lib/taskList'\nimport { Organization } from '../lib/container'\n// import { createBossTask } from '../npc/boss'\nexport function createTaskList(\n  app: Application,\n  organization: Organization\n): TaskList {\n  return new TaskList([\n    new FactoryFishTask(app, organization),\n    // createBossTask(app, organization),\n  ])\n}\n","import {\n  isInit,\n  startGameTime,\n  pauseGameTime,\n  gameTime,\n  gameValue,\n  isIdle,\n  isSuccess,\n} from '../reactivity'\nimport { regression } from '../pc/createWhale'\nimport { createTaskList } from '../task'\nimport { Game } from './game'\nimport { TaskList } from './taskList'\nimport { Next } from './task'\nexport class GameCycle implements Next {\n  game\n  taskList: TaskList\n  constructor(game: Game) {\n    this.game = game\n    this.taskList = createTaskList(this.game.app, this.game.organization)\n  }\n  // 开始\n  start(): void {\n    if (!isInit.value) {\n      this.clean()\n    }\n    this.taskList = createTaskList(this.game.app, this.game.organization)\n    this.taskList\n      .createTaskList()\n      .createTaskPromise()\n      .then(() => (isSuccess.value = true))\n      .catch(() => (isSuccess.value = false))\n      .finally(() => (isIdle.value = true))\n    this.regression()\n    this.handleIng()\n  }\n  // 暂停\n  pause(): void {\n    this.handlePause()\n  }\n  // 继续\n  continue(): void {\n    this.handleIng()\n  }\n  // 结束\n  end(): void {\n    this.handlePause()\n  }\n  handlePause(): void {\n    this.game.organization.closeTickHitTestRectangle() // 关闭检测\n    this.taskList.pause()\n    pauseGameTime() // 暂停倒计时\n  }\n  handleIng(): void {\n    this.game.organization.openTickHitTestRectangle()\n    this.taskList.start()\n    startGameTime()\n  }\n  regression(): void {\n    gameTime.value = 0\n    gameValue.value = 0\n  }\n  clean(): void {\n    this.game.organization.empty() // 清空\n    this.game.whales.forEach(whale => {\n      regression(whale)\n    })\n    this.game.organization.addPC(...this.game.whales)\n  }\n  reject(): void {\n    this.taskList.reject()\n  }\n  next(): this {\n    this.taskList.next()\n    return this\n  }\n}\n","import { Game } from './lib/game'\nlet game: Game\nexport function getGame(): Game {\n  if (!game) {\n    game = new Game()\n    game.bindWindowEvent()\n    game.bindWatchEvent()\n  }\n  return game\n}\n","import * as PIXI from 'pixi.js'\nimport { getDocumentHeight, getDocumentWidth } from '../utils'\nimport { createWhale } from '../pc/createWhale'\nimport { getArrowOperation, getEnglishOperation } from '../pc/operationMove'\nimport { Organization } from './container'\nimport { isIdle, isInit, isPause, gamePlayerNumber } from '../reactivity'\nimport { watch, WatchStopHandle } from 'vue'\nimport whaleImage from '../../assets/images/whale.png'\nimport { getTexture } from '../utils'\nimport { GameCycle } from './gameCycle'\nimport { PlayerCharacter } from './playerCharacter'\nimport { Next } from './task'\n\nexport class Game implements Next {\n  app\n  organization\n  gameCycle\n  startAntPause: (event: KeyboardEvent) => void\n  whales: Array<PlayerCharacter> = []\n  private idleWatch: WatchStopHandle = () => {\n    // 属性xxx没有初始化表达式，且未在构造函数中明确赋值\n  }\n  private pauseWatch: WatchStopHandle = () => {\n    // 属性xxx没有初始化表达式，且未在构造函数中明确赋值\n  }\n  constructor() {\n    this.app = new PIXI.Application({\n      height: getDocumentHeight(),\n      width: getDocumentWidth(),\n    })\n    this.organization = new Organization(this)\n    this.gameCycle = new GameCycle(this)\n    this.startAntPause = event => {\n      if (event.code === 'Space') {\n        if (isIdle.value) {\n          isIdle.value = false\n          isInit.value = false\n        } else {\n          isPause.value = !isPause.value\n        }\n      }\n    }\n  }\n  async init(): Promise<void> {\n    await this.createWhales()\n    this.organization.addPC(...this.whales)\n  }\n  async createWhales(): Promise<void> {\n    await getTexture('whale', whaleImage)\n    const seat = [getArrowOperation, getEnglishOperation]\n    this.whales = seat\n      .splice(0, gamePlayerNumber.value)\n      .map(bindEvent => createWhale(this.app, bindEvent))\n  }\n  bindWatchEvent(): void {\n    this.removeWatchEvent()\n    this.idleWatch = watch(isIdle, value => {\n      if (value) {\n        this.gameCycle.end()\n      } else {\n        this.gameCycle.start()\n      }\n    })\n    this.pauseWatch = watch(isPause, value => {\n      if (value) {\n        this.gameCycle.pause()\n      } else {\n        this.gameCycle.continue()\n      }\n    })\n  }\n  removeWatchEvent(): void {\n    if (typeof this.pauseWatch === 'function') {\n      this.pauseWatch()\n    }\n  }\n  bindWindowEvent(): void {\n    this.removeWindowEvent()\n    window.addEventListener('keyup', this.startAntPause)\n  }\n  removeWindowEvent(): void {\n    window.removeEventListener('keyup', this.startAntPause)\n  }\n  next(): this {\n    this.gameCycle.next()\n    return this\n  }\n}\n","import { Loader } from 'pixi.js'\nimport infos, { bossInfo } from './infos'\n// import { loaderPromise } from '../utils'\nexport function loaderImg(): Promise<unknown[]> {\n  const imgs = infos.map(item => {\n    return {\n      name: item.textureName,\n      url: item.img,\n    }\n  })\n  imgs.push({\n    name: bossInfo.textureName,\n    url: bossInfo.img,\n  })\n  return new Promise(function (resolve) {\n    Loader.shared.add(imgs).load(resolve)\n  })\n}\n","\nimport { ref, computed, onMounted, Ref } from 'vue'\nimport DiaLogue from './components/DiaLogue/index.vue'\nimport { getGame } from './pixi'\nimport { Game } from './pixi/lib/game'\nimport { loaderImg } from './pixi/npc/loader'\nimport {\n  isInit,\n  isIdle,\n  isPause,\n  isSuccess,\n  isPlayed,\n  gameTime,\n  gameValue,\n  store,\n} from './pixi/reactivity'\nexport default {\n  components: {\n    DiaLogue,\n  },\n  setup() {\n    let game: Game\n    function handleNext() {\n      game.next()\n    }\n    const bgm: Ref<HTMLElement> = ref(document.documentElement)\n    const pixiContainer: Ref<HTMLElement> = ref(document.documentElement)\n    const isPlay = ref(false)\n    function handleStart() {\n      isIdle.value = false\n      isInit.value = false\n    }\n    function handleContinue() {\n      isPause.value = false\n    }\n    const endText = computed(() =>\n      isSuccess.value ? '恭喜你！羽化成鲲！' : '游戏结束，鲸落'\n    )\n    onMounted(async () => {\n      bgm.value.addEventListener('play', () => {\n        isPlay.value = true\n      })\n      bgm.value.addEventListener('pause', () => {\n        isPlay.value = false\n      })\n      await loaderImg()\n      game = getGame()\n      await game.init()\n      pixiContainer.value.appendChild(game.app.view)\n    })\n    function bmgPlay() {\n      ;(bgm.value as HTMLAudioElement).play()\n    }\n    function bmgPause() {\n      ;(bgm.value as HTMLAudioElement).pause()\n    }\n\n    return {\n      pixiContainer,\n      handleStart,\n      handleContinue,\n      isIdle,\n      isPause,\n      isSuccess,\n      isPlayed,\n      gameTime,\n      gameValue,\n      endText,\n      isPlay,\n      bgm,\n      bmgPlay,\n      bmgPause,\n      messageObject: store.state.messageObject,\n      handleNext,\n    }\n  },\n}\n","import { render } from \"./App.vue?vue&type=template&id=9a5a9848&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=9a5a9848&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=9a5a9848&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9a5a9848\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './assets/iconfont/iconfont.css'\n\ncreateApp(App).mount('#app')\n","module.exports = __webpack_public_path__ + \"img/ran-yi-yu.651fd8a9.png\";"],"sourceRoot":""}